<html>
    <head>
        <title>Secure Storage for Mobile Applications using React Native.</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="My dump">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/static/css/main.css" />
        
    </head>
    <body>
        <header>
            <h2> <a style="text-decoration: none;"href="/">Notes</a></h2>
        </header>
        
    <div class="note">
        <div class="note-title">
            <h3>Secure Storage for Mobile Applications using React Native.</h3>
            <p>Date: 2023-11-13<br>By: csr13</p>
        </div>
        <div class="note-body">
            <p>When storing sensitive information with mobile applications, there are many ways to
do it, but one that I use a lot when working on mobile applications uses
<code>AsyncStorage</code> from react-native-async-storage and <code>SecureStore</code> from
expo-secure-store.</p>
<p>Here is the component I use for handling for example, authentication tokens to allow the user to fetch data from authorized endpoints</p>
<pre><code class="language-javascript">import AsyncStorage from '@react-native-async-storage/async-storage';
import * as SecureStore from 'expo-secure-store';

class StorageService {
  storeData = async (keyName, value) =&gt; {
    try {
      await SecureStore.setItemAsync(`${keyName}`, value);
    } catch (e) {
      return null;
    }
  };

  storeObjectData = async (keyName, value) =&gt; {
    try {
      const jsonValue = JSON.stringify(value);
      await SecureStore.setItemAsync(`${keyName}`, jsonValue);
    } catch (e) {
      return null;
    }
  };

  getData = async (keyName) =&gt; {
    try {
      const value = await SecureStore.getItemAsync(`${keyName}`);
      if (value !== null) {
        return value;
      }
      return null;
    } catch (e) {
      return null;
    }
  };

  getObjectData = async (keyName) =&gt; {
    var value;
    try {
      const jsonValue = await SecureStore.getItemAsync(`${keyName}`).succ;
      return jsonValue != null ? JSON.parse(jsonValue) : null;
    } catch (e) {
      value = null;
    }
    return value;
  };

  clearData = async () =&gt; {
    await SecureStore.deleteItemAsync('access_token');
    await SecureStore.deleteItemAsync('user');
  };
}

export default StorageService;
</code></pre>
<p>It is very useful for storing things for the current user in session, use cases
depends on how the current application works, but the most important use case is to
be able to store auth token, and load it to headers to make axios requests to the
backend server.</p>
        </div>
    </div>

        
        <script src="/static/js/main.js"></script>
    </body>
</html>